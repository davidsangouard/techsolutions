<?php require_once '../includes/config.php'; $error = ''; if ($_SERVER['REQUEST_METHOD'] === 'POST') { $stmt = $pdo->prepare("SELECT * FROM administrateurs WHERE username = ?"); $stmt->execute([trim($_POST['username'] ?? '')]); $admin = $stmt->fetch(); if ($admin && password_verify($_POST['password'] ?? '', $admin['password'])) { $_SESSION['admin_id'] = $admin['id']; $_SESSION['admin_username'] = $admin['username']; header('Location: dashboard.php'); exit; } $error = 'Identifiants incorrects'; } ?>
<!DOCTYPE html><html lang="fr"><head><meta charset="UTF-8"><title>Admin - TechSolutions</title><link rel="stylesheet" href="../css/style.css"></head><body><div class="login-container"><h2>Connexion Admin</h2><?php if($error): ?><div class="message error"><?php echo $error; ?></div><?php endif; ?><form method="POST"><div class="form-group"><label>Utilisateur:</label><input type="text" name="username" required></div><div class="form-group"><label>Mot de passe:</label><input type="password" name="password" required></div><button type="submit">Connexion</button></form><p style="text-align:center;margin-top:1rem;"><a href="../index.php">Retour</a></p><div class="message" style="background:#fff3cd;border-color:#ffc107;color:#856404;margin-top:2rem;"><strong>Test:</strong> admin / admin123</div></div></body></html>
